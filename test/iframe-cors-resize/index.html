<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Start</title>
		<link rel="stylesheet" crossorigin href="style.css" />
	</head>
	<body>
		<div>
			<p><a href="./page.html">Go to page</a></p>
			<p>
				Mollit ad consectetur proident duis velit ullamco. Excepteur
				sunt velit reprehenderit sunt. Magna aliquip sit Lorem mollit
				consectetur quis et. Lorem do ad ullamco eiusmod cillum magna
				culpa. Exercitation reprehenderit aliquip Lorem voluptate
				incididunt sunt cupidatat ut mollit nostrud dolore incididunt.
				Do aute id ipsum ipsum aute exercitation id minim Lorem.
			</p>

			<p>
				Nisi incididunt cupidatat qui dolore cillum sunt proident. Ad
				excepteur proident mollit elit pariatur nostrud eu. Esse esse
				anim labore est ullamco consequat fugiat nostrud quis
				reprehenderit aute consequat nulla qui. Mollit fugiat consequat
				nisi aliqua. Cillum ullamco est elit dolore est nisi minim
				occaecat consequat excepteur magna nisi ex. Excepteur excepteur
				sit culpa velit minim cillum sit laborum eu consectetur.
			</p>

			<p>
				Sint consectetur culpa cupidatat tempor ipsum eu velit magna
				minim amet mollit excepteur nisi in. Irure excepteur est est
				veniam enim duis dolore id labore aliquip est ea. Non dolor nisi
				in adipisicing nostrud. Et aute anim do duis excepteur. Laboris
				ea labore culpa commodo commodo et dolore dolor laboris proident
				non sunt eu. Eu adipisicing incididunt cillum adipisicing. Ea
				tempor voluptate esse pariatur tempor velit adipisicing aliquip
				cillum.
			</p>

			<p>
				Ullamco consectetur ullamco fugiat nulla. Fugiat deserunt
				incididunt excepteur adipisicing labore dolore laboris dolore
				amet consequat adipisicing exercitation nisi aliqua. Non ea
				aliquip culpa proident. Anim velit laborum eu sit et labore est
				eu fugiat consequat. Sunt exercitation nisi amet cupidatat
				nulla. Irure consectetur fugiat exercitation anim labore nisi.
				Nisi eiusmod labore id mollit.
			</p>

			<p>
				Id pariatur nulla ad adipisicing est excepteur dolore consequat
				aute quis consequat nulla in ipsum. Non amet qui magna minim
				commodo sint consequat ex. Eiusmod aliquip id tempor
				exercitation. Ex commodo ex est non qui Lorem. Lorem excepteur
				eu occaecat sint do non aute eu ut non. Fugiat aute laboris do
				sunt nisi qui cillum minim sint eu consectetur do fugiat ea.
			</p>

			<p>
				Consequat anim adipisicing sunt ut est sunt consectetur cillum
				amet sit amet. Culpa consequat eiusmod aute occaecat proident
				labore pariatur est culpa labore incididunt et id incididunt.
				Lorem aute do cupidatat non aliquip ex mollit incididunt dolore.
				Enim occaecat consequat cillum et sint. Ut enim sit nisi amet.
				Non eu enim nulla voluptate. Pariatur officia elit elit amet
				sunt incididunt consectetur ullamco sunt.
			</p>
		</div>
		<script>
			function sendHeight() {
				setTimeout(() => {
					const height =
						document.documentElement.scrollHeight ||
						document.body.scrollHeight;
					console.log("Sending height", height);
					window.parent.postMessage(
						{ type: "setHeight", height },
						"*"
					);
				}, 100); // Delay of 100ms
			}

			// Send height on load and pageshow
			window.addEventListener("load", sendHeight);
			window.addEventListener("pageshow", sendHeight);

			// Send height on content changes
			const observer = new MutationObserver(sendHeight);
			observer.observe(document.body, {
				attributes: true,
				childList: true,
				subtree: true,
			});

			// Send height on window resize
			window.addEventListener("resize", sendHeight);
		</script>
	</body>
</html>
